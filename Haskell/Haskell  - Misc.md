
Q: What library to use for command-line options?
A: https://hackage.haskell.org/package/optparse-applicative

Q: How do I get all the comments in a GHC module
A: easy solution: use haskell-src-exts `parseFileWithComments`